{
  "name": "Gmail AI Reply",
  "nodes": [
    {
      "parameters": {
        "operation": "get",
        "messageId": "={{ $json.id }}"
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.2,
      "position": [-64, 16],
      "id": "083b8d25-59f8-4c65-bafa-4dd6845726b7",
      "name": "Get a message",
      "credentials": {
        "gmailOAuth2": {
          "name": "YOUR_GMAIL_ACCOUNT"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=You are email responding agent...\n",
        "hasOutputParser": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [144, 16],
      "id": "e62b1247-cc52-435a-acf4-5f20a91a5e0b",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": "openai/gpt-4o-mini",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [16, 224],
      "id": "28c0cac5-4c9a-42e5-89b8-d7ea5bfd97e6",
      "name": "OpenRouter Chat Model",
      "credentials": {
        "openRouterApi": {
          "name": "YOUR_OPENROUTER_ACCOUNT"
        }
      }
    },
    {
      "parameters": {
        "jsonSchemaExample": "{ \"label_id\": \"LABEL_NAME\", \"subject\": \"subject_here\" }"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [384, 272],
      "id": "2c3aa26f-6213-44be-9505-1bb8b4f0e04a",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "pollTimes": {
          "item": [{ "mode": "everyMinute" }]
        },
        "simple": false,
        "filters": {},
        "options": {}
      },
      "type": "n8n-nodes-base.gmailTrigger",
      "typeVersion": 1.3,
      "position": [-272, 16],
      "id": "e5332118-e20b-45eb-b6f7-8a93d53a872a",
      "name": "CHECK A NEW MAIL",
      "credentials": {
        "gmailOAuth2": {
          "name": "YOUR_GMAIL_ACCOUNT"
        }
      }
    },
    {
      "parameters": {
        "operation": "addLabels",
        "messageId": "={{ $('Get a message').item.json.id }}",
        "labelIds": "={{ $json.output.lebel_id }}"
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.2,
      "position": [624, 144],
      "id": "58ac6704-b370-4a32-9be4-14f35a7f0626",
      "name": "Add label to message",
      "credentials": {
        "gmailOAuth2": {
          "name": "YOUR_GMAIL_ACCOUNT"
        }
      }
    }
  ],
  "connections": {},
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "binaryMode": "separate"
  },
  "tags": []
}
